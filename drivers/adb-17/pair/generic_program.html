<script>
var options = {
	template: '../lib/pair/program.html',
	id: 'generic_program',
	previous: 'generic_choice',
	body: 'deviceClasses.doorbell.views.generic_program.body',
	svg: '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 20.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 145.3 317.97" style="enable-background:new 0 0 145.3 317.97;" xml:space="preserve" xmlns:pulse="-">\n<style type="text/css">\n\t.st0{fill-rule:evenodd;clip-rule:evenodd;fill:#1A1A18;}\n</style>\n<g>\n\t<path d="M74.58,317.97c-0.65,0-1.29-0.01-1.93-0.02c-17.14,0.34-39.44-3.93-54.24-10.38C5.6,302-0.33,291.16,0.28,274.46\n\t\tc0.49-36.02,0.79-79.99,0.8-120.62c-0.05-35.56-0.32-71.55-0.8-106.96c-0.02-1.19-0.07-2.51-0.12-3.88\n\t\tc-0.11-2.93-0.25-6.25-0.07-9.08C0.91,20.9,8.69,17.5,18.54,13.19l1.6-0.7C34.77,6.05,56.73-0.31,72.76,0.01\n\t\tc15.91-0.31,37.77,6.04,52.4,12.48l1.6,0.7c9.86,4.31,17.64,7.71,18.46,20.74c0.18,2.83,0.05,6.15-0.07,9.08\n\t\tc-0.05,1.37-0.11,2.68-0.12,3.88c-0.49,35.45-0.76,71.44-0.8,106.96c0.02,40.59,0.31,84.56,0.8,120.65\n\t\tc0.61,16.67-5.32,27.51-18.13,33.09C112.63,313.79,91.43,317.97,74.58,317.97z M72.65,315.12l0.03,0\n\t\tc16.53,0.33,38.83-3.93,53.08-10.14c11.62-5.06,16.99-15.01,16.43-30.42c-0.5-36.13-0.79-80.12-0.8-120.72\n\t\tc0.05-35.54,0.32-71.53,0.8-107c0.02-1.22,0.07-2.55,0.13-3.94c0.12-3,0.24-6.11,0.07-8.8c-0.71-11.3-7.1-14.09-16.76-18.32\n\t\tl-1.6-0.7C109.68,8.77,88.31,2.53,72.76,2.85C57.11,2.52,35.62,8.77,21.28,15.08l-1.6,0.7C10.01,20.01,3.63,22.8,2.92,34.1\n\t\tc-0.17,2.69-0.05,5.79,0.07,8.79c0.05,1.39,0.11,2.73,0.13,3.95c0.49,35.43,0.76,71.42,0.8,107c-0.02,40.64-0.31,84.63-0.8,120.69\n\t\tc-0.57,15.44,4.81,25.39,16.43,30.45c14.25,6.21,36.58,10.47,53.08,10.14L72.65,315.12z"/>\n</g>\n<g>\n\t<path pulse:initial="true" class="st0" d="M32.38,111.6c4.56,0,8.25,3.69,8.25,8.25s-3.69,8.25-8.25,8.25s-8.25-3.69-8.25-8.25S27.83,111.6,32.38,111.6"\n\t\t/>\n</g>\n<path d="M80.59,76.13V60.28c0-4.33-3.53-7.86-7.86-7.86s-7.86,3.53-7.86,7.86v15.85c-5.72,2.96-9.27,8.77-9.27,15.22\n\tc0,9.44,7.68,17.13,17.13,17.13c9.44,0,17.13-7.68,17.13-17.13C89.86,84.91,86.31,79.09,80.59,76.13z"/>\n<g>\n\t<path d="M32.38,128.81c-4.94,0-8.96-4.02-8.96-8.96c0-4.94,4.02-8.96,8.96-8.96s8.96,4.02,8.96,8.96\n\t\tC41.34,124.79,37.32,128.81,32.38,128.81z M32.38,112.31c-4.16,0-7.54,3.38-7.54,7.54s3.38,7.54,7.54,7.54s7.54-3.38,7.54-7.54\n\t\tS36.54,112.31,32.38,112.31z"/>\n</g>\n<g>\n\t<path d="M32.38,104.2c-4.16,0-7.55-3.39-7.55-7.55c0-4.16,3.39-7.55,7.55-7.55s7.55,3.39,7.55,7.55\n\t\tC39.94,100.81,36.55,104.2,32.38,104.2z M32.38,90.23c-3.54,0-6.42,2.88-6.42,6.42c0,3.54,2.88,6.42,6.42,6.42s6.42-2.88,6.42-6.42\n\t\tC38.8,93.11,35.92,90.23,32.38,90.23z"/>\n</g>\n<g>\n\t<path d="M35.37,94.73H29.4c-0.31,0-0.57-0.25-0.57-0.57s0.25-0.57,0.57-0.57h5.97c0.31,0,0.57,0.25,0.57,0.57\n\t\tS35.68,94.73,35.37,94.73z"/>\n</g>\n<g>\n\t<path d="M35.37,97.14H29.4c-0.31,0-0.57-0.25-0.57-0.57S29.09,96,29.4,96h5.97c0.31,0,0.57,0.25,0.57,0.57S35.68,97.14,35.37,97.14\n\t\tz"/>\n</g>\n<g>\n\t<path d="M36.39,99.79h-8.01c-0.31,0-0.57-0.25-0.57-0.57s0.25-0.57,0.57-0.57h8.01c0.31,0,0.57,0.25,0.57,0.57\n\t\tS36.7,99.79,36.39,99.79z"/>\n</g>\n</svg>\n',
	title: 'views.generic_program.title',
	svgWidth: '80vw',
	svgHeight: '70vh',
	initWithDeviceData: false,
	next: true
};
Homey.setTitle(__(options.title || ''));
Homey.emit('init', options.id);
Homey.on('show_view', function(viewId){
	Homey.showView(viewId);
});
Homey.on('close', function(){
	Homey.close();
});
Homey.on('nextView', function(viewsIds){
	var viewIndex = viewsIds.indexOf(options.id) + 1;
	if(viewIndex > 0 && viewIndex < viewsIds.length){
		Homey.showView(viewsIds[viewIndex]);
	}
});
Homey.on('previousView', function(viewsIds){
	var viewIndex = viewsIds.indexOf(options.id) - 1;
	if(viewIndex >= 0){
		Homey.showView(viewsIds[viewIndex]);
	}
});
function nextView(){
	if(options.next){
		Homey.nextView();
	}else{
		Homey.emit('next');
	}
}
</script>

<link href="../../../assets/433_generator/css/styles.css" rel="stylesheet" type="text/css"/>

<link href="../../../assets/433_generator/css/svg.css" rel="stylesheet" type="text/css"/>

<script src="../../../assets/433_generator/js/svghighlighter.js" type="text/javascript"></script>

<link href="../../../assets/433_generator/css/styles.css" rel="stylesheet" type="text/css"/>

<link href="../../../assets/433_generator/css/svg.css" rel="stylesheet" type="text/css"/>

<script src="../../../assets/433_generator/js/svghighlighter.js" type="text/javascript"></script>

<div class="centered-container">
	<div id="image-container"></div>
	<div id="body"><span class="content"></span></div>
	<div class="foundAnimation" id="foundBackground" style="display:none;"></div>
	<i class="fa fa-check-circle foundAnimation" id="found" style="display:none;" aria-hidden="true"></i>
</div>

<script>
	var idPrefix = '[data-id="' + options.id + '"] ';
	$(idPrefix + '#body > span').html(__(options.body));
	var $imageContainer = $(idPrefix + '#image-container');
	$imageContainer.css('width', options.svgWidth).css('height', options.svgHeight);

	$imageContainer.html(options.svg);
	$imageContainer.highlight();

	Homey.emit('program', function(err, device){
		const dataKey = JSON.stringify(device.data);
		window.selected_devices = [ dataKey ];
		window.found_devices = {};
		window.found_devices[dataKey] = device;
	});
</script>